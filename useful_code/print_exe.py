# import sys
# print(sys.executable)

'''
[[118, 438], [119, 438], [117, 438], [118, 439], [118, 437], [117, 437], [119, 437], [117, 439], [119, 439], [295, 509],
 [296, 509], [294, 509], [295, 510], [295, 508], [294, 508], [296, 508], [294, 510], [296, 510], [2, 164], [3, 164],
 [1, 164], [2, 165], [2, 163], [1, 163], [3, 163], [1, 165], [3, 165], [509, 509], [510, 509], [508, 509], [509, 510],
 [509, 508], [508, 508], [510, 508], [508, 510], [510, 510], [199, 246], [200, 246], [198, 246], [199, 247], [199, 245],
 [198, 245], [200, 245], [198, 247], [200, 247], [2, 394], [3, 394], [1, 394], [2, 395], [2, 393], [1, 393], [3, 393],
 [1, 395], [3, 395], [507, 377], [508, 377], [506, 377], [507, 378], [507, 376], [506, 376], [508, 376], [506, 378],
 [508, 378], [375, 320], [376, 320], [374, 320], [375, 321], [375, 319], [374, 319], [376, 319], [374, 321], [376, 321],
 [301, 491], [302, 491], [300, 491], [301, 492], [301, 490], [300, 490], [302, 490], [300, 492], [302, 492], [308, 475],
  [309, 475], [307, 475], [308, 476], [308, 474], [307, 474], [309, 474], [307, 476], [309, 476], [316, 456], [317, 456],
   [315, 456], [316, 457], [316, 455], [315, 455], [317, 455], [315, 457], [317, 457], [323, 440...
'''


def on_one_line(point):
    res = []
    point.append(point[0])
    length = len(point)
    res.append(point[0])
    for i in range(2, length):
        x0, y0 = point[i - 2][0], point[i - 2][1]
        x1, y1 = point[i - 1][0], point[i - 1][1]
        x2, y2 = point[i][0], point[i][1]
        if (y1 - y0) * (x2 - x1) - (x1 - x0) * (y2 - y1) == 0:
            continue
        else:
            res.append(point[i - 1])
    if point[0] != res[-1]:
        res.append(point[0])
    return res
if __name__ == '__main__':
    p = [[0,0], [1, 0], [2, 0], [3, 0],[1, 1], [2, 2],[3, 5]]
    res = on_one_line(p)
    print(res)